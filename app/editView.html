<form id="data.selectedItem">
    <h1>Item Brief</h1>
    
    <div class="form-group">
        <label for="title">Title</label>
        <input type="text" class="form-control" id="title" placeholder="Title" ng-model="data.selectedItem.title">
    </div>
    
    <div class="form-group">
        <label for="description">Description</label>
        <textarea class="form-control" id="description" rows="3" placeholder="Description" ng-model="data.selectedItem.description">
        </textarea>
    </div>

    <div class="form-group">
        <label for="icon">Upload Icon</label>
        <input type="file" class="form-control" id="icon" accept="image/*" capture="camera"
            fileread="data.selectedItem.iconFile">
    </div>
    
    <div class="row" ng-init="data.renderIcons()">
        <div class="col-xs-4 col-sm-2">
           <a href="#" class="thumbnail" 
              ng-click="data.selectedItem.iconCanvas = '#iconCanvas1'"
              ng-class="canvasClass(this)">
               <canvas id="iconCanvas1" class="" width="120" height="120" ></canvas>
           </a>
        </div>

        <div class="col-xs-4 col-sm-2">
           <a href="#" class="thumbnail" 
              ng-click="data.selectedItem.iconCanvas = '#iconCanvas2'"
              ng-class="canvasClass(this)">
               <canvas id="iconCanvas2" class="" width="120" height="120" ></canvas>
           </a>
        </div>

        <div class="col-xs-4 col-sm-2">
           <a href="#" class="thumbnail" 
              ng-click="data.selectedItem.iconCanvas = '#iconCanvas3'"
              ng-class="canvasClass(this)">
               <canvas id="iconCanvas3" class="" width="120" height="120" ></canvas>
           </a>
        </div>   
    </div>

    <img id="iconImage" class="col-xs-12 col-sm-6" alt="{{ data.selectedItem.title }}" 
        ng-src="{{ data.selectedItem.iconFile }}" 
        style="display:block;" />
    
    <div style="clear:both"></div>
    
    <h1>Item Properties</h1>

    <div class="form-group">
        <label for="propertyAction">Add Property</label>
        <select id="dataModel" class="form-control" ng-model="data.selectedProperty.dataModel">
            <option value="item">Item Model</option>
            <option value="text">Text Model</option>
        </select>
    </div>
    
    <div class="form-group" ng-show="data.selectedProperty.dataModel == 'item'">
        <select id="itemModel" class="form-control" 
            ng-model="data.selectedProperty.itemModel" 
            ng-options="item.id as item.title for item in items | freeProperties:this:data.selectedItem">
        </select>
    </div>
    
    <div class="form-group" ng-show="data.selectedProperty.dataModel && data.selectedProperty.dataModel  != 'item'">
        <input id="propertyName" class="form-control" type="text" placeholder="Enter Property Name" 
            ng-model="data.selectedProperty.propertyName">
    </div>
    
    <div class="form-group" ng-show="data.selectedProperty.dataModel && data.selectedProperty.dataModel != 'item'">
        <textarea id="textData" class="form-control" rows="5" placeholder="Enter Text Data"
            ng-model="data.selectedProperty.textData"
        ></textarea>
    </div>
    
    <div class="form-group" >
        <button type="button" class="btn btn-block" 
            ng-click="data.addProperty( data.selectedItem )"
            ng-disabled="service.propertyValidation(this, $scope)"
            >Add Property</button>
    </div>
    
    <table class="table table-hover table-condensed" >

        <thead>
            <tr>
                <th>Property type</th>
                <th>Model</th>
                <th>Action</th>
            </tr>
        </thead>

        <tbody>

            <tr ng-repeat="property in data.selectedItem.properties | filter:{active:true}">
                <td>{{ property | getPropertyName:this }}</td>
                <td>{{ property.model }}</td>
                <td>
                    <button type="button" class="btn btn-default" ng-click="delete( property );">
                        <img src="img/delete.png" alt="open">
                    </button>
                </td>
            </tr>

        </tbody>

    </table>

    <div class="form-group" ng-show="data.selectedItem.propertyAction == 'new'">
        <label for="newPropertyType">New Property Type</label>
        <select id="newPropertyType" class="form-control" ng-model="data.selectedItem.newPropertyType">
            <option value="text">text</option>
            <option value="selection">number</option>
        </select>
    </div>
  
</form>
